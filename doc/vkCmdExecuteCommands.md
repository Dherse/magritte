[vkCmdExecuteCommands](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/man/html/vkCmdExecuteCommands.html) - Execute a secondary command buffer from a primary command buffer

# C Specifications
A secondary command buffer  **must**  not be directly submitted to a queue.
Instead, secondary command buffers are recorded to execute as part of a
primary command buffer with the command:
```c
// Provided by VK_VERSION_1_0
void vkCmdExecuteCommands(
    VkCommandBuffer                             commandBuffer,
    uint32_t                                    commandBufferCount,
    const VkCommandBuffer*                      pCommandBuffers);
```

# Parameters
- [`command_buffer`] is a handle to a primary command buffer that the secondary command buffers are executed in.
- [`command_buffer_count`] is the length of the [`p_command_buffers`] array.
- [`p_command_buffers`] is a pointer to an array of [`command_buffer_count`] secondary command buffer handles, which are recorded to execute in the primary command buffer in the order they are listed in the array.

# Description
If any element of [`p_command_buffers`] was not recorded with the
`VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT` flag, and it was recorded
into any other primary command buffer which is currently in the
[executable or recording state](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#commandbuffers-lifecycle), that primary
command buffer becomes [invalid](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#commandbuffers-lifecycle).
## Valid Usage
-    Each element of [`p_command_buffers`] **must**  have been allocated with a `level` of `VK_COMMAND_BUFFER_LEVEL_SECONDARY`
-    Each element of [`p_command_buffers`] **must**  be in the [pending or executable state](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#commandbuffers-lifecycle)
-    If any element of [`p_command_buffers`] was not recorded with the `VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT` flag, it  **must**  not be in the [pending state](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#commandbuffers-lifecycle)
-    If any element of [`p_command_buffers`] was not recorded with the `VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT` flag, it  **must**  not have already been recorded to [`command_buffer`]
-    If any element of [`p_command_buffers`] was not recorded with the `VK_COMMAND_BUFFER_USAGE_SIMULTANEOUS_USE_BIT` flag, it  **must**  not appear more than once in [`p_command_buffers`]
-    Each element of [`p_command_buffers`] **must**  have been allocated from a [`CommandPool`] that was created for the same queue family as the [`CommandPool`] from which [`command_buffer`] was allocated
-    If [`cmd_execute_commands`] is being called within a render pass instance, each element of [`p_command_buffers`] **must**  have been recorded with the `VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT`
-    If [`cmd_execute_commands`] is being called within a render pass instance, and any element of [`p_command_buffers`] was recorded with [`CommandBufferInheritanceInfo::framebuffer`] not equal to [`crate::Handle::null`], that [`Framebuffer`] **must**  match the [`Framebuffer`] used in the current render pass instance
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_render_pass`], its `contents` parameter  **must**  have been set to `VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS`
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_render_pass`], each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceInfo::subpass`] set to the index of the subpass which the given command buffer will be executed in
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_render_pass`], the render passes specified in the `pBeginInfo->pInheritanceInfo->renderPass` members of the [`begin_command_buffer`] commands used to begin recording each element of [`p_command_buffers`] **must**  be [compatible](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#renderpass-compatibility) with the current render pass
-    If [`cmd_execute_commands`] is being called within a render pass instance that included [`RenderPassTransformBeginInfoQCOM`] in the `pNext` chain of [`RenderPassBeginInfo`], then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceRenderPassTransformInfoQCOM`] in the `pNext` chain of [`CommandBufferBeginInfo`]
-    If [`cmd_execute_commands`] is being called within a render pass instance that included [`RenderPassTransformBeginInfoQCOM`] in the `pNext` chain of [`RenderPassBeginInfo`], then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceRenderPassTransformInfoQCOM::transform`] identical to [`RenderPassTransformBeginInfoQCOM::transform`]
-    If [`cmd_execute_commands`] is being called within a render pass instance that included [`RenderPassTransformBeginInfoQCOM`] in the `pNext` chain of [`RenderPassBeginInfo`], then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceRenderPassTransformInfoQCOM::render_area`] identical to [`RenderPassBeginInfo::render_area`]
-    If [`cmd_execute_commands`] is not being called within a render pass instance, each element of [`p_command_buffers`] **must**  not have been recorded with the `VK_COMMAND_BUFFER_USAGE_RENDER_PASS_CONTINUE_BIT`
-    If the [inherited queries](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#features-inheritedQueries) feature is not enabled, [`command_buffer`] **must**  not have any queries [active](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-active)
-    If [`command_buffer`] has a `VK_QUERY_TYPE_OCCLUSION` query [active](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-active), then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceInfo::occlusion_query_enable`] set to `VK_TRUE`
-    If [`command_buffer`] has a `VK_QUERY_TYPE_OCCLUSION` query [active](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-active), then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceInfo::query_flags`] having all bits set that are set for the query
-    If [`command_buffer`] has a `VK_QUERY_TYPE_PIPELINE_STATISTICS` query [active](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-active), then each element of [`p_command_buffers`] **must**  have been recorded with [`CommandBufferInheritanceInfo::pipeline_statistics`] having all bits set that are set in the [`QueryPool`] the query uses
-    Each element of [`p_command_buffers`] **must**  not begin any query types that are [active](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#queries-operation-active) in [`command_buffer`]
-    If [`command_buffer`] is a protected command buffer and [`protectedNoFault`](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#limits-protectedNoFault) is not supported, each element of [`p_command_buffers`] **must**  be a protected command buffer
-    If [`command_buffer`] is an unprotected command buffer and [`protectedNoFault`](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#limits-protectedNoFault) is not supported, each element of [`p_command_buffers`] **must**  be an unprotected command buffer
-    This command  **must**  not be recorded when transform feedback is active
-    If [`cmd_execute_commands`] is being called within a render pass instance and any recorded command in [`command_buffer`] in the current subpass will write to an image subresource as an attachment, commands recorded in elements of [`p_command_buffers`] **must**  not read from the memory backing that image subresource in any other way
-    If [`cmd_execute_commands`] is being called within a render pass instance and any recorded command in [`command_buffer`] in the current subpass will read from an image subresource used as an attachment in any way other than as an attachment, commands recorded in elements of [`p_command_buffers`] **must**  not write to that image subresource as an attachment
-    If [`cmd_execute_commands`] is being called within a render pass instance and any recorded command in a given element of [`p_command_buffers`] will write to an image subresource as an attachment, commands recorded in elements of [`p_command_buffers`] at a higher index  **must**  not read from the memory backing that image subresource in any other way
-    If [`cmd_execute_commands`] is being called within a render pass instance and any recorded command in a given element of [`p_command_buffers`] will read from an image subresource used as an attachment in any way other than as an attachment, commands recorded in elements of [`p_command_buffers`] at a higher index  **must**  not write to that image subresource as an attachment
-    If [`p_command_buffers`] contains any [suspended render pass instances](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#renderpass-suspension), there  **must**  be no action or synchronization commands between that render pass instance and any render pass instance that resumes it
-    If [`p_command_buffers`] contains any [suspended render pass instances](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#renderpass-suspension), there  **must**  be no render pass instances between that render pass instance and any render pass instance that resumes it
-    If the [`variableSampleLocations`](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#limits-variableSampleLocations) limit is not supported, and any element of [`p_command_buffers`] contains any [suspended render pass instances](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#renderpass-suspension), where a graphics pipeline has been bound, any pipelines bound in the render pass instance that resumes it, or any subsequent render pass instances that resume from that one and so on,  **must**  use the same sample locations
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], its [`RenderingInfo::flags`] parameter  **must**  have included `VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT`
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], the render passes specified in the `pBeginInfo->pInheritanceInfo->renderPass` members of the [`begin_command_buffer`] commands used to begin recording each element of [`p_command_buffers`] **must**  be [`crate::Handle::null`]
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], the `flags` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the [`RenderingInfo::flags`] parameter to [`cmd_begin_rendering`], excluding `VK_RENDERING_CONTENTS_SECONDARY_COMMAND_BUFFERS_BIT`
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], the `colorAttachmentCount` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the [`RenderingInfo::color_attachment_count`] parameter to [`cmd_begin_rendering`]
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], if the `imageView` member of an element of the [`RenderingInfo::color_attachments`] parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the corresponding element of the `pColorAttachmentFormats` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the format used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], if the [`RenderingInfo`]::`pDepthAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of the `depthAttachmentFormat` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the format used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], if the [`RenderingInfo`]::`pStencilAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of the `stencilAttachmentFormat` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the format used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`], the `viewMask` member of the [`CommandBufferInheritanceRenderingInfo`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the [`RenderingInfo::view_mask`] parameter to [`cmd_begin_rendering`]
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] includes a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the `imageView` member of an element of the [`RenderingInfo::color_attachments`] parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the corresponding element of the `pColorAttachmentSamples` member of the [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the sample count used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] includes a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the [`RenderingInfo`]::`pDepthAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of the `depthStencilAttachmentSamples` member of the [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the sample count used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] includes a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the [`RenderingInfo`]::`pStencilAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of the `depthStencilAttachmentSamples` member of the [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure included in the `pNext` chain of [`CommandBufferBeginInfo::inheritance_info`] used to begin recording each element of [`p_command_buffers`] **must**  be equal to the sample count used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] does not include a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the `imageView` member of an element of the [`RenderingInfo::color_attachments`] parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of [`CommandBufferInheritanceRenderingInfo::rasterization_samples`] **must**  be equal to the sample count used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] does not include a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the [`RenderingInfo`]::`pDepthAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of [`CommandBufferInheritanceRenderingInfo::rasterization_samples`] **must**  be equal to the sample count used to create that image view
-    If [`cmd_execute_commands`] is being called within a render pass instance begun with [`cmd_begin_rendering`] and the `pNext` chain of [`CommandBufferInheritanceInfo`] does not include a [`AttachmentSampleCountInfoAMD`] or [`AttachmentSampleCountInfoNV`] structure, if the [`RenderingInfo`]::`pStencilAttachment->imageView` parameter to [`cmd_begin_rendering`] is not [`crate::Handle::null`], the value of [`CommandBufferInheritanceRenderingInfo::rasterization_samples`] **must**  be equal to the sample count used to create that image view

## Valid Usage (Implicit)
-  [`command_buffer`] **must**  be a valid [`CommandBuffer`] handle
-  [`p_command_buffers`] **must**  be a valid pointer to an array of [`command_buffer_count`] valid [`CommandBuffer`] handles
-  [`command_buffer`] **must**  be in the [recording state]()
-    The [`CommandPool`] that [`command_buffer`] was allocated from  **must**  support transfer, graphics, or compute operations
-  [`command_buffer`] **must**  be a primary [`CommandBuffer`]
-  [`command_buffer_count`] **must**  be greater than `0`
-    Both of [`command_buffer`], and the elements of [`p_command_buffers`] **must**  have been created, allocated, or retrieved from the same [`Device`]

## Host Synchronization
- Host access to [`command_buffer`] **must**  be externally synchronized
- Host access to the [`CommandPool`] that [`command_buffer`] was allocated from  **must**  be externally synchronized

## Command Properties

# Related
- [`crate::vulkan1_0`]
- [`CommandBuffer`]

# Notes and documentation
For more information, see the [Vulkan specification](https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html)
This documentation is generated from the Vulkan specification and documentation.
The documentation is copyrighted by *The Khronos Group Inc.* and is licensed under *Creative Commons Attribution 4.0 International*.
his license explicitely allows adapting the source material as long as proper credit is given.
        